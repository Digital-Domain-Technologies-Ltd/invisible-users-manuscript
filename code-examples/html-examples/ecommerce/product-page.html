<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="canonical" href="https://example.com/products/wireless-headphones.html">
  <title>Wireless Headphones - Product Page</title>

  <!-- Schema.org structured data (established standard) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Product",
    "name": "Wireless Headphones",
    "description": "Premium over-ear headphones with active noise cancellation, 40-hour battery life, and premium sound quality.",
    "brand": {
      "@type": "Brand",
      "name": "AudioTech"
    },
    "model": "WH-1000",
    "sku": "WH-1000",
    "offers": {
      "@type": "Offer",
      "price": "149.99",
      "priceCurrency": "GBP",
      "availability": "https://schema.org/InStock",
      "priceValidUntil": "2027-12-31",
      "itemCondition": "https://schema.org/NewCondition"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.5",
      "reviewCount": "127"
    }
  }
  </script>
</head>
<body>
  <main>
    <!-- Product with complete information -->
    <article class="product"
             data-product-id="WH-1000"
             data-in-stock="true"
             data-quantity="23">

      <h1>Wireless Headphones</h1>

      <p class="description">
        Premium over-ear headphones with active noise cancellation,
        40-hour battery life, and premium sound quality.
      </p>

      <!-- Stock status -->
      <p class="stock"
         data-in-stock="true"
         data-quantity="23">
        <strong>In stock</strong> (23 available)
      </p>

      <!-- Complete pricing -->
      <div class="price"
           data-price="149.99"
           data-currency="GBP">
        <span class="currency">£</span>
        <span class="amount">149.99</span>
        <span class="vat-status">inc. VAT</span>
      </div>

      <!-- Price breakdown (optional details) -->
      <details class="price-breakdown">
        <summary>Price breakdown</summary>
        <dl>
          <dt>Product</dt>
          <dd data-price="124.99">£124.99</dd>
          <dt>VAT (20%)</dt>
          <dd data-price="25.00">£25.00</dd>
          <dt>Total</dt>
          <dd data-price="149.99">£149.99</dd>
        </dl>
      </details>

      <!-- Add to cart form -->
      <form action="/cart/add" method="POST">
        <input type="hidden" name="product_id" value="WH-1000">

        <div class="field">
          <label for="qty">Quantity</label>
          <input type="number"
                 id="qty"
                 name="quantity"
                 value="1"
                 min="1"
                 max="23"
                 required>
        </div>

        <button type="submit">Add to basket</button>
      </form>

      <!-- Agent-readable purchase instructions -->
      <div class="agent-metadata" data-agent-visible="true" style="display: none;">
        <h2>Purchase Information</h2>
        <dl>
          <dt>Action</dt>
          <dd>POST to /cart/add</dd>

          <dt>Required parameters</dt>
          <dd>product_id=WH-1000, quantity (1-23)</dd>

          <dt>Prerequisites</dt>
          <dd>
            <ul>
              <li>Authentication: Optional for adding to cart, required for checkout</li>
              <li>Stock availability: 23 units available</li>
              <li>Price: £149.99 (including VAT)</li>
            </ul>
          </dd>

          <dt>Expected response</dt>
          <dd>Success: 303 redirect to /cart | Error: 400 with JSON details</dd>

          <dt>Product details</dt>
          <dd>
            ID: WH-1000, In stock: true, Quantity available: 23, Price: 149.99 GBP
          </dd>
        </dl>
      </div>

      <!-- Product specifications -->
      <section class="specifications">
        <h2>Specifications</h2>
        <dl>
          <dt>Brand</dt>
          <dd>AudioTech</dd>
          <dt>Model</dt>
          <dd>WH-1000</dd>
          <dt>Battery Life</dt>
          <dd>40 hours</dd>
          <dt>Noise Cancellation</dt>
          <dd>Active (ANC)</dd>
          <dt>Weight</dt>
          <dd>254g</dd>
        </dl>
      </section>
    </article>

    <!-- Out of stock variant -->
    <article class="product"
             data-product-id="WH-2000"
             data-in-stock="false"
             data-quantity="0">

      <h1>Premium Wireless Headphones</h1>

      <p class="stock"
         data-in-stock="false"
         data-quantity="0">
        <strong>Out of stock</strong>
      </p>

      <div class="price"
           data-price="249.99"
           data-currency="GBP">
        <span class="currency">£</span>
        <span class="amount">249.99</span>
      </div>

      <!-- Notify when available -->
      <form action="/notify" method="POST">
        <input type="hidden" name="product_id" value="WH-2000">
        <label for="notify-email">Email me when back in stock:</label>
        <input type="email" id="notify-email" name="email" required>
        <button type="submit">Notify me</button>
      </form>
    </article>
  </main>

  <!--
    Key principles:
    - Schema.org JSON-LD provides machine-readable product data (established standard)
    - data-product-id for unique identification
    - data-in-stock and data-quantity explicit
    - Complete pricing with currency and VAT status
    - Stock quantity shown (not just "in stock")
    - Max quantity matches available stock
    - Out of stock: show price, offer notification
    - All information visible without JavaScript
    - data-agent-visible provides hidden purchase instructions and prerequisites
  -->
</body>
</html>
